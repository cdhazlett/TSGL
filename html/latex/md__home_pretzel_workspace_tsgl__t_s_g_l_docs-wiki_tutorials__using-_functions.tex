You can\textquotesingle{}t spell \char`\"{}functions\char`\"{} without \char`\"{}fun\char`\"{}!

On a more serious note, T\+S\+G\+L has the capability to graph mathematical functions.

We\textquotesingle{}ve been working with the standard Canvas class, but there\textquotesingle{}s also another type of Canvas that is very useful for this purpose.

It\textquotesingle{}s affectionately called the Cartesian\+Canvas.

Its a subclass of the Canvas class and so inherits and overrides many of the Canvas methods as well as adds some of its own.

This type of Canvas has an adjustable Cartesian coordinate system. What that means is that instead of the point (0, 0) being in the top-\/left corner of the screen like in the standard Canvas, you can now specify where you want the center to be.

You can also draw axes on this type of Canvas which makes it a {\itshape L\+O\+T} easier to draw mathematical functions.

Create a file a name it cartesian.\+cpp.

Let\textquotesingle{}s start with a simple example\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <tsgl.h>}
\textcolor{keyword}{using namespace }\hyperlink{namespacetsgl}{tsgl};

\textcolor{keywordtype}{int} main() \{
  \hyperlink{classtsgl_1_1_cartesian_canvas}{CartesianCanvas} c(0, 0, 500, 500, -5.0, -5.0, 5.0, 50.0, \textcolor{stringliteral}{"Cartesian Example"});
  c.start();
  c.wait();
\}
\end{DoxyCode}


Compile the code and run it. A blank gray screen should pop up.

Looking at the code, it looks eerily similar to how a Canvas is constructed but with a few added parameters The constructor creates a Cartesian\+Canvas whose upper left corner is at screen coordinate (0,0), with a width of 500 and a height of 500. It then sets and scales the Cartesian\+Canvasâ€™s axes and internal coordinate system so that the left edge of the canvas is x = -\/5.\+0 in the Cartesian coordinate system, the bottom edge is y = -\/5.\+0, the right edge is x = +5.0, and the top edge is y = +50.0. It then gives the window a title, \char`\"{}\+Cartesian Example\char`\"{}, and uses the default timer length of 0.\+0 (which you can set explicitly if you so desire, as described in our \mbox{[}\mbox{[}Animation Loops\mbox{]}\mbox{]} tutorial).

If we wanted to instead center the Cartesian\+Canvas somewhere else, all we would have to do is change the first two parameters\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <tsgl.h>}
\textcolor{keyword}{using namespace }\hyperlink{namespacetsgl}{tsgl};

\textcolor{keywordtype}{int} main() \{
  \hyperlink{classtsgl_1_1_cartesian_canvas}{CartesianCanvas} c(500, 500, 500, 500, -5.0, -5.0, 5.0, 50.0, \textcolor{stringliteral}{"Cartesian Example"});
  c.start();
  c.wait();
\}
\end{DoxyCode}


That should position the Cartesian\+Canvas someplace else on your monitor.

Notice how the Canvas has integer coordinates whereas the Cartesian\+Canvas has Decimal coordinates.

Notice also how you can set the upper left corner of the Cartesian\+Canvas with the first two arguments. These arguments can be used to position the canvas arbitrarily. You can set it pretty much anywhere you want (within reason of course. It has to be within the range of the size of the screen.).

You can use the 4th, 5th, 6th, and 7th arguments to set the bounds of the coordinate system within the Cartesian\+Canvas.

As mentioned before, the Cartesian\+Canvas handles colors, shapes, and drawing loops in much the same way as a standard Canvas does.

Now, how can we graph mathematical functions?

Well, let\textquotesingle{}s first tell the Cartesian\+Canvas to draw axes\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <tsgl.h>}
\textcolor{keyword}{using namespace }\hyperlink{namespacetsgl}{tsgl};

\textcolor{keywordtype}{int} main() \{
  \hyperlink{classtsgl_1_1_cartesian_canvas}{CartesianCanvas} c(0, 0, 500, 500, -5, -5, 5, 50, \textcolor{stringliteral}{"Cartesian Example"});
  c.start();
  c.setBackgroundColor(WHITE);  \textcolor{comment}{//Set the color to white to see the axes better}
  c.drawAxes(0.0, 0.0, 1.0, 5.0);
  c.wait();
\}
\end{DoxyCode}


Recompile and run. The screen should pop up with a white background and axes drawn.

The draw\+Axes() method takes in these parameters\+:
\begin{DoxyItemize}
\item x-\/coordinate of the center of the Cartesian\+Canvas ({\ttfamily 0.\+0}).
\item y-\/coordinate of the center of the Cartesian\+Canvas ({\ttfamily 0.\+0}).
\item The spacing between the tick marks along the x-\/axis ({\ttfamily 1.\+0}).
\item The spacing between the tick marks along the y-\/axis ({\ttfamily 5.\+0}).
\end{DoxyItemize}

Now, let\textquotesingle{}s graph a function!

Wait...how do we do that?

It\textquotesingle{}s rather simple really. T\+S\+G\+L comes with a built in Function class, and Cartesian\+Canvas has a draw\+Function() method that draws the graph of a given Function.

To draw a specific mathematical function, we must define it as a subclass of this Function class\+:


\begin{DoxyCode}
\textcolor{keyword}{class }CotangentFunction : \textcolor{keyword}{public} Function \{

\};
\end{DoxyCode}


In order for draw\+Function() to draw it, the subclass, Cotangent\+Function, must supply a definition for the value\+At() method that is declared in the Function class.

Here is the declaration from class Function\+:


\begin{DoxyCode}
\textcolor{keyword}{virtual} Decimal valueAt(Decimal x) \textcolor{keyword}{const} = 0;
\end{DoxyCode}


This method is called an \char`\"{}abstract method.\char`\"{} It can\textquotesingle{}t be used on its own because there is no definition provided to it in the Function class.

However, any subclass that inherits from the Function class can (and {\itshape M\+U\+S\+T}) provide a definition to this method.

That\textquotesingle{}s exactly what we\textquotesingle{}re going to do in the Cotangent\+Function class\+:


\begin{DoxyCode}
\textcolor{keyword}{class }CotangentFunction : \textcolor{keyword}{public} Function \{
 \textcolor{keyword}{public}:
    \textcolor{keyword}{virtual} Decimal valueAt(Decimal x)\textcolor{keyword}{ const }\{
      \textcolor{keywordflow}{return} cos(x) / sin(x);  \textcolor{comment}{//This is how the Cotangent function is defined}
    \}
\};
\end{DoxyCode}


As you can see, we define the value\+At(x) function to return the cotangent of x.

T\+S\+G\+L predefines the Power, Square Root, Sine, Cosine, Tangent, Absolute Value, Exponential, Natural Log, Common Log, Ceiling, Floor, and Round functions in a similar fashion.

It does not predefine the Cotangent function, which is why we had to define it ourselves.

Continuing forward, we can place the class declaration above our main method like so\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <tsgl.h>}
\textcolor{keyword}{using namespace }\hyperlink{namespacetsgl}{tsgl};

\textcolor{keyword}{class }CotangentFunction : \textcolor{keyword}{public} \hyperlink{classtsgl_1_1_function}{Function} \{
 \textcolor{keyword}{public}:
    \textcolor{keyword}{virtual} Decimal valueAt(Decimal x)\textcolor{keyword}{ const }\{
      \textcolor{keywordflow}{return} cos(x) / sin(x);
    \}
\};

\textcolor{keywordtype}{int} main() \{
  \hyperlink{classtsgl_1_1_cartesian_canvas}{CartesianCanvas} c(0, 0, 500, 500, -5, -5, 5, 50, \textcolor{stringliteral}{"Cartesian Example"});
  c.start();
  c.setBackgroundColor(WHITE); \textcolor{comment}{//Set the color to white to see the axes better}
  c.drawAxes(0.0, 0.0, 1.0, 5.0);
  c.wait();
\}
\end{DoxyCode}


Now we are ready to graph the Cotangent function!

To do so, simply create an instance of the Cotangent\+Function class and then pass it to the draw\+Function() method from the Cartesian\+Canvas object\+:


\begin{DoxyCode}
\textcolor{preprocessor}{#include <tsgl.h>}
\textcolor{keyword}{using namespace }\hyperlink{namespacetsgl}{tsgl};

\textcolor{comment}{//Class definition of the Cotangent function}
\textcolor{keyword}{class }CotangentFunction : \textcolor{keyword}{public} \hyperlink{classtsgl_1_1_function}{Function} \{
 \textcolor{keyword}{public}:
    \textcolor{keyword}{virtual} Decimal valueAt(Decimal x)\textcolor{keyword}{ const }\{
      \textcolor{keywordflow}{return} cos(x) / sin(x);
    \}
\};

\textcolor{comment}{//Main program}
\textcolor{keywordtype}{int} main() \{
  \hyperlink{classtsgl_1_1_cartesian_canvas}{CartesianCanvas} c(0, 0, 500, 500, -5, -5, 5, 50, \textcolor{stringliteral}{"Cartesian Example"});
  c.start();
  c.setBackgroundColor(WHITE);  \textcolor{comment}{//Set the color to white to see the axes better}
  c.drawAxes(0.0, 0.0, 1.0, 5.0);
  CotangentFunction cot;  \textcolor{comment}{//Create an instance of the CotangentFunction class}
  \textcolor{comment}{//Drawing loop}
  \textcolor{keywordflow}{while}(c.isOpen()) \{
    c.sleep();
    c.drawFunction(cot); \textcolor{comment}{//Draw it onto the CartesianCanvas}
  \}
  c.wait();
\}
\end{DoxyCode}


Recompile and run. The graph of the Cotangent function should be drawn!

We didn\textquotesingle{}t see it being drawn though...

That\textquotesingle{}s because we omitted a second parameter, which is the length of time that we should have the main thread sleep for so that it can be in sync with the Canvas.

Omitting this parameter just draws the entire drawing in one go and so therefore, we can\textquotesingle{}t see it.

We can change this, however, by not omitting the second parameter\+:


\begin{DoxyCode}
c.drawFunction(cot, FRAME);
\end{DoxyCode}


By placing F\+R\+A\+M\+E as the second parameter, we tell the main thread to sleep for F\+R\+A\+M\+E seconds (1/60th of a second) and then that syncs with the Canvas so that we can see the drawing actually occurring.

It\textquotesingle{}s a little slow though, how can we speed it up?

To make it go faster, simply change the second parameter\+:


\begin{DoxyCode}
c.drawFunction(cot, FRAME/2);
\end{DoxyCode}


This makes it so that the thread sleeps for every F\+R\+A\+M\+E/2 of a second (or 1/120th of a second) and then a point is drawn on the Canvas.

There\textquotesingle{}s also a third optional parameter which is the color of the function (set to B\+L\+A\+C\+K by default).

See \href{http://calvin-cs.github.io/TSGL/html/classtsgl_1_1_function.html}{\tt Function.\+h} for more information on the predefined functions in T\+S\+G\+L.

If you ever want to graph a mathematical function that is not predefined, you will have to define it yourself in the same way as we did for the Cotangent function.

Please note\+: The Cartesian\+Canvas is intended for drawing mathematical functions, the standard Canvas is not. Consider the standard Canvas intended for drawing animation loops and other things and the Cartesian\+Canvas intended for drawing mathematical functions.

That completes this tutorial!

In the next tutorial, \mbox{[}\mbox{[}Using Keyboard \&\& Mouse\mbox{]}\mbox{]}, we take a look at how to handle keyboard and mouse events! 